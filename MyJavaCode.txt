Editted it after copying from C